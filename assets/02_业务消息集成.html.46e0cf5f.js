import{_ as c,o as i,c as l,a as n,e as a,w as u,b as s,d as p,r as t}from"./app.f76568f5.js";const k={},d=n("h1",{id:"\u4E1A\u52A1\u6D88\u606F\u96C6\u6210",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E1A\u52A1\u6D88\u606F\u96C6\u6210","aria-hidden":"true"},"#"),s(" \u4E1A\u52A1\u6D88\u606F\u96C6\u6210")],-1),r=n("h2",{id:"\u5DE5\u7A0B\u793A\u4F8B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5DE5\u7A0B\u793A\u4F8B","aria-hidden":"true"},"#"),s(" \u5DE5\u7A0B\u793A\u4F8B")],-1),v=s("\u7CFB\u7EDF\u5E94\u7528\u96C6\u6210\u793A\u4F8B\u5DE5\u7A0B"),m={href:"https://gitee.com/alinesno-cloud/alinesno-demo-gateway-open/tree/master/demo-message",target:"_blank",rel:"noopener noreferrer"},g=s("\u6253\u5F00"),b=p(`<h2 id="\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u6982\u8FF0" aria-hidden="true">#</a> \u6982\u8FF0</h2><p>\u4E1A\u52A1\u96C6\u6210\u6D88\u606F\u7684\u65B9\u5F0F\u548C\u4F7F\u7528\u65B9\u5F0F\uFF0C\u5305\u62EC\u6D88\u606F\u7684\u53D1\u9001\u548C\u6D88\u606F\u63A5\u6536</p><h2 id="\u672C\u5185\u5BB9\u4F60\u5C06\u83B7\u5F97" tabindex="-1"><a class="header-anchor" href="#\u672C\u5185\u5BB9\u4F60\u5C06\u83B7\u5F97" aria-hidden="true">#</a> \u672C\u5185\u5BB9\u4F60\u5C06\u83B7\u5F97</h2><ul><li>\u6D88\u606F\u53D1\u9001\u96C6\u6210</li><li>\u6D88\u606F\u4E8B\u52A1\u6D88\u8D39\u5904\u7406</li><li>\u6D88\u606F\u5E42\u7B49\u5904\u7406</li><li>\u6D88\u606F\u5F02\u5E38\u5904\u7406</li></ul><h2 id="\u6D88\u606F\u4F7F\u7528\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6D88\u606F\u4F7F\u7528\u65B9\u5F0F" aria-hidden="true">#</a> \u6D88\u606F\u4F7F\u7528\u65B9\u5F0F</h2><p>\u8FD9\u91CC\u4E3B\u8981\u6F14\u793A\u7684\u6D88\u606F\u6536\u53D1\u7BA1\u7406\u548C\u4F7F\u7528\uFF0C\u8FD9\u91CC\u4E3B\u8981\u662F\u96C6\u6210\u6D88\u606F\u7684\u4E1A\u52A1\u5904\u7406\u65B9\u5F0F\uFF0C\u5305\u62EC\u5206\u5E03\u5F0F\u6D88\u606F\u9501\uFF0C \u6D88\u606F\u5E42\u7B49\u5904\u7406\u7B49</p><h3 id="\u751F\u4EA7\u7AEF\u53D1\u9001\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#\u751F\u4EA7\u7AEF\u53D1\u9001\u6D88\u606F" aria-hidden="true">#</a> \u751F\u4EA7\u7AEF\u53D1\u9001\u6D88\u606F</h3><p>\u6D88\u606F\u53D1\u9001\u6709\u9884\u5904\u7406\u548C\u76F4\u63A5\u53D1\u9001\u4E24\u5404\u65B9\u5F0F\uFF0C\u9884\u5904\u7406\u65B9\u5F0F\u662F\u5728\u4E1A\u52A1\u5B8C\u6210\u4E4B\u540E\uFF0C\u786E\u8BA4\u53D1\u9001\u5904\u7406\uFF0C\u76F4\u63A5\u53D1\u9001 \u5219\u662F\u4E1A\u52A1\u5B8C\u6210\u4E4B\u540E\u76F4\u63A5\u53D1\u9001\u5373\u53EF</p><h4 id="\u9884\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u9884\u5904\u7406" aria-hidden="true">#</a> \u9884\u5904\u7406</h4><p>\u9884\u53D1\u9001\u6D88\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MqMessageEntity</span> dto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MqMessageEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

dto<span class="token punctuation">.</span><span class="token function">setTopic</span><span class="token punctuation">(</span><span class="token string">&quot;kafka-test.02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dto<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F\u5185\u5BB9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>dto<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>HOST_API <span class="token operator">+</span> <span class="token string">&quot;saveMessageLocal&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token comment">//\u5934\u4FE1\u606F\uFF0C\u591A\u4E2A\u5934\u4FE1\u606F\u591A\u6B21\u8C03\u7528\u6B64\u65B9\u6CD5\u5373\u53EF</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;messageBusinessId&quot;</span><span class="token punctuation">,</span>messageBusinessId<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token comment">//\u7B49\u4EF7\u4E8E\u4F7F\u7528.form() \u4F46\u662F\u4E24\u8005\u4E4B\u95F4\u4F20\u9012\u7684\u53C2\u6570\u7C7B\u578B\u4E0D\u4E00\u6837</span>
        <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;res = {}&quot;</span> <span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B8C\u6210\u4E4B\u540E\uFF0C\u786E\u8BA4\u6D88\u606F\u5E76\u53D1\u9001</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> messageId <span class="token operator">=</span> <span class="token string">&quot;f9f13e563037b5dc544c62abd138dcd6&quot;</span> <span class="token punctuation">;</span> <span class="token comment">// \u793A\u4F8B\u6570\u636E</span>

<span class="token class-name">MqMessageEntity</span> dto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MqMessageEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
dto<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>messageId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>dto<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>HOST_API <span class="token operator">+</span> <span class="token string">&quot;confirmAndSendMessage&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token comment">//\u5934\u4FE1\u606F\uFF0C\u591A\u4E2A\u5934\u4FE1\u606F\u591A\u6B21\u8C03\u7528\u6B64\u65B9\u6CD5\u5373\u53EF</span>
    <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;messageBusinessId&quot;</span><span class="token punctuation">,</span>messageBusinessId<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token comment">//\u7B49\u4EF7\u4E8E\u4F7F\u7528.form() \u4F46\u662F\u4E24\u8005\u4E4B\u95F4\u4F20\u9012\u7684\u53C2\u6570\u7C7B\u578B\u4E0D\u4E00\u6837</span>
    <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;res = {}&quot;</span> <span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u76F4\u63A5\u53D1\u9001" tabindex="-1"><a class="header-anchor" href="#\u76F4\u63A5\u53D1\u9001" aria-hidden="true">#</a> \u76F4\u63A5\u53D1\u9001</h4><p>\u8FD9\u7C7B\u578B\u7684\u76F4\u63A5\u53D1\u9001\u6D88\u606F\u5373\u53EF</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">RequestMessageDto</span> dto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestMessageDto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

dto<span class="token punctuation">.</span><span class="token function">setBusinessId</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E1A\u52A1\u5173\u952E\u5B57&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dto<span class="token punctuation">.</span><span class="token function">setTopicName</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F\u4E3B\u9898&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dto<span class="token punctuation">.</span><span class="token function">setMessageBody</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F\u5185\u5BB9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>dto<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>HOST_API <span class="token operator">+</span> <span class="token string">&quot;sendMessage&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token comment">//\u5934\u4FE1\u606F\uFF0C\u591A\u4E2A\u5934\u4FE1\u606F\u591A\u6B21\u8C03\u7528\u6B64\u65B9\u6CD5\u5373\u53EF</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;messageBusinessId&quot;</span><span class="token punctuation">,</span>messageBusinessId<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token comment">//\u7B49\u4EF7\u4E8E\u4F7F\u7528.form() \u4F46\u662F\u4E24\u8005\u4E4B\u95F4\u4F20\u9012\u7684\u53C2\u6570\u7C7B\u578B\u4E0D\u4E00\u6837</span>
        <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;res = {}&quot;</span> <span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6D88\u8D39\u7AEF\u63A5\u6536\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u7AEF\u63A5\u6536\u6D88\u606F" aria-hidden="true">#</a> \u6D88\u8D39\u7AEF\u63A5\u6536\u6D88\u606F</h3><p>\u6D88\u8D39\u7AEF\u63A5\u6536\u5230\u6D88\u606F\u4E4B\u540E\uFF0C\u89E3\u6790\u6D88\u606F\u4F53\u8FDB\u884C\u4E1A\u52A1\u5904\u7406\uFF0C\u8FD9\u91CC\u6F14\u793Akafka\u63A5\u6536\uFF0C\u5982\u4E0B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaSubscriber</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> log <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">KafkaSubscriber</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token doc-comment comment">/**
	 * \u76D1\u63A7\u901A\u914D\u7684topic
	 *
	 * <span class="token keyword">@param</span> <span class="token parameter">record</span>
	 * <span class="token keyword">@param</span> <span class="token parameter">topic</span>
	 */</span>
	<span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>topicPattern <span class="token operator">=</span> <span class="token string">&quot;kafka-test.*&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">ConsumerRecord</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">&gt;</span></span> record<span class="token punctuation">,</span> <span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span><span class="token class-name">KafkaHeaders</span><span class="token punctuation">.</span>RECEIVED_TOPIC<span class="token punctuation">)</span> <span class="token class-name">String</span> topic<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> kafkaMessage <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>kafkaMessage<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">Object</span> message <span class="token operator">=</span> kafkaMessage<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; record:{} , topic:{}&quot;</span><span class="token punctuation">,</span> record<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">;</span>
			log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; message:{} , topic:{}&quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token doc-comment comment">/**
	 * \u76D1\u542C\u67D0\u4E2Atopic\u7684\u6D88\u606F
	 */</span>
	<span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token string">&quot;id01&quot;</span><span class="token punctuation">,</span> topics <span class="token operator">=</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; data :{} , topic:{}&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// \u66F4\u65B0\u6D88\u606F\u72B6\u6001</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6D88\u8D39\u7AEF\u5F02\u5E38\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u7AEF\u5F02\u5E38\u5904\u7406" aria-hidden="true">#</a> \u6D88\u8D39\u7AEF\u5F02\u5E38\u5904\u7406</h3><p>\u6D88\u606F\u5F02\u5E38\u5904\u7406\u8FD9\u91CC\u662F\u5C06\u5F02\u5E38\u629B\u51FA\u548C\u5199\u56DE\u6D88\u606F\u4E2D\u95F4\u4EF6\uFF0C\u793A\u4F8B\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token string">&quot;id01&quot;</span><span class="token punctuation">,</span> topics <span class="token operator">=</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; data :{} , topic:{}&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token comment">// \u5904\u7406\u4E1A\u52A1</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// \u5F02\u5E38\u5904\u7406\uFF0C\u6D88\u606F\u5199\u56DE\u4E2D\u95F4\u4EF6</span>
        <span class="token comment">// \u8C03\u7528\u65B9\u6CD5\u56DE\u8C03\u5F02\u5E38</span>
        <span class="token comment">// \u629B\u51FA\u5F02\u5E38</span>
        thrown <span class="token keyword">new</span> <span class="token class-name">RpcServiceException</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F[&quot;</span><span class="token operator">+</span>data<span class="token operator">+</span><span class="token string">&quot;]\u5904\u7406\u5F02\u5E38:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6D88\u8D39\u7AEF\u52A0\u9501\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u7AEF\u52A0\u9501\u5904\u7406" aria-hidden="true">#</a> \u6D88\u8D39\u7AEF\u52A0\u9501\u5904\u7406</h3>`,23),h=s("\u5206\u5E03\u5F0F\u4E8B\u52A1\u52A0\u9501\u5904\u7406\u7684\u60C5\u51B5\uFF0C\u9488\u5BF9\u540C\u4E00\u4E1A\u52A1\u4E0D\u80FD\u5E76\u53D1\u6267\u884C\u65F6\u7684\u5904\u7406\uFF0C\u6839\u636E\u4E1A\u52A1\u5173\u952E\u5B57\u8FDB\u884C\u7684\u52A0\u9501\u5904\u7406\uFF0C \u67E5\u770B"),f=s("\u5206\u5E03\u5F0F\u9501"),q=s("\u6280\u672F\u7AE0\u8282\uFF0C\u8FD9\u91CC\u96C6\u6210\u7684\u662Fredis\u8FDB\u884C\u9501\u5904\u7406\uFF0C \u793A\u4F8B\u5982\u4E0B:"),_=p(`<div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RedisMultiLocked</span><span class="token punctuation">(</span>expression <span class="token operator">=</span> <span class="token string">&quot;T(com.example.MyUtils).getNamesWithId(#p0)&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token string">&quot;id01&quot;</span><span class="token punctuation">,</span> topics <span class="token operator">=</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; data :{} , topic:{}&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token string">&quot;kafka-test-topic-02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u66F4\u65B0\u6D88\u606F\u72B6\u6001</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5176\u5B83" tabindex="-1"><a class="header-anchor" href="#\u5176\u5B83" aria-hidden="true">#</a> \u5176\u5B83</h2><ul><li>\u65E0</li></ul>`,3);function y(x,j){const e=t("ExternalLinkIcon"),o=t("RouterLink");return i(),l("div",null,[d,r,n("p",null,[v,n("a",m,[g,a(e)])]),b,n("p",null,[h,a(o,{to:"/technique/01_%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/16_%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html"},{default:u(()=>[f]),_:1}),q]),_])}var S=c(k,[["render",y],["__file","02_\u4E1A\u52A1\u6D88\u606F\u96C6\u6210.html.vue"]]);export{S as default};
