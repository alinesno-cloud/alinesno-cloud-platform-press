(window.webpackJsonp=window.webpackJsonp||[]).push([[481],{708:function(s,n,t){"use strict";t.r(n);var a=t(0),e=Object(a.a)({},(function(){this._self._c;return this._m(0)}),[function(){var s=this,n=s._self._c;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"flink-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flink-安装"}},[s._v("#")]),s._v(" Flink 安装")]),s._v(" "),n("h2",{attrs:{id:"本内容你将获得"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[s._v("#")]),s._v(" 本内容你将获得")]),s._v(" "),n("ul",[n("li",[s._v("如何在 centos7 服务器上安装 flink")])]),s._v(" "),n("h2",{attrs:{id:"flink-安装-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flink-安装-2"}},[s._v("#")]),s._v(" Flink 安装")]),s._v(" "),n("p",[s._v("登录官网https://flink.apache.org/downloads.html")]),s._v(" "),n("p",[s._v("下载 flink-1.14.4-bin-scala_2.12.tgz 并上传 至 Linux 服务器/root/flink 目录。此服务器为 CDH6.2.0 的 dataNode 节点。")]),s._v(" "),n("p",[s._v("1、解压")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf flink-1.14.4-bin-scala_2.12.tgz\n\n创建临时目录文件\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /root/flink/tmp\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /root/flink/flink-1.14.4/tmp/zookeeper\n")])])]),n("p",[s._v("2、修改配置文件 flink-conf.yaml")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink/flink-1.14.4/conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" flink-conf.yaml\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为4")]),s._v("\ntaskmanager.numberOfTaskSlots: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为rocksdb")]),s._v("\nstate.backend: rocksdb\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为hdfs:///user/flink/flink-checkpoints")]),s._v("\nstate.checkpoints.dir: hdfs:///user/flink/flink-checkpoints\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为hdfs:///user/flink/savepoints-data")]),s._v("\nstate.savepoints.dir: hdfs:///user/flink/savepoints-data\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为true")]),s._v("\nstate.backend.incremental: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为/root/flink/tmp")]),s._v("\nio.tmp.dirs: /root/flink/tmp\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为parent-first")]),s._v("\nclassloader.resolve-order: parent-first\n")])])]),n("p",[s._v("3、修改配置文件 zoo.cfg")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink/flink-1.14.4/conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" zoo.cfg\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为/root/flink/flink-1.14.4/tmp/zookeeper")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dataDir")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root/flink/flink-1.14.4/tmp/zookeeper\n")])])]),n("p",[s._v("4、复制 hadoop 集群配置文件")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/hadoop/conf/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" hdfs-site.xml /root/flink/flink-1.14.4/conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" core-site.xml /root/flink/flink-1.14.4/conf\n")])])])])}],!1,null,null,null);n.default=e.exports}}]);