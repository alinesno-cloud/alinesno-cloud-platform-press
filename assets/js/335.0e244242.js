(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{564:function(t,s,a){"use strict";a.r(s);var r=a(0),i=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("此教程针对的是客户部署、内网部署场景，即脱离平台打包发布生产使用，此为自动化运维基线。")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("此环境主要针对的是 CentOS7.x 服务器，适用于内网")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("基础服务按需引入即可，以下【可选】为两个例子，其它组件类似")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("环境初始化，需了解 ansible 的一些基础知识，如 hosts 配置，这里针对的是单点配置，\n集群配置建议专业人士操作，或者参考运维文档")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),s("p",[t._v("基础服务可以使用 jenkins 构建或者其它方式构建，这里演示的是 ansible 发布的形式")]),t._v(" "),t._m(12),t._m(13),t._v(" "),s("p",[t._v("此参考环境搭建部署章节，访问 "),s("a",{attrs:{href:"http://gitbook.lbxinhu.com/document-platform-operation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("自动化部署文档"),s("OutboundLink")],1)]),t._v(" "),t._m(14),t._v(" "),t._m(15)])}),[function(){var t=this._self._c;return t("h2",{attrs:{id:"部署教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署教程"}},[this._v("#")]),this._v(" 部署教程")])},function(){var t=this._self._c;return t("p",{staticClass:"show-images"},[t("img",{attrs:{src:"/images/undraw_monitor_iqpq.svg",width:"40%"}})])},function(){var t=this._self._c;return t("h3",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[this._v("#")]),this._v(" 概述")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"内网部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内网部署"}},[this._v("#")]),this._v(" 内网部署")])},function(){var t=this._self._c;return t("h4",{attrs:{id:"基础环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础环境"}},[this._v("#")]),this._v(" 基础环境")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("【必须】MySQL5.7：数据存储")]),this._v(" "),t("li",[this._v("【必须】Redis3.2.5：会话和缓存")]),this._v(" "),t("li",[this._v("【可选】Zookeeper：注册与发现")])])},function(){var t=this._self._c;return t("h4",{attrs:{id:"平台服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#平台服务"}},[this._v("#")]),this._v(" 平台服务")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("【必须】引导服务")]),this._v(" "),t("li",[this._v("【必须】统一管理平台")]),this._v(" "),t("li",[this._v("【可选】通知服务")]),this._v(" "),t("li",[this._v("【可选】审计日志")])])},function(){var t=this._self._c;return t("h4",{attrs:{id:"部署说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署说明"}},[this._v("#")]),this._v(" 部署说明")])},function(){var t=this._self._c;return t("h5",{attrs:{id:"初始化环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化环境"}},[this._v("#")]),this._v(" 初始化环境")])},function(){var t=this._self._c;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[this._v("ansible-playbook -f 01.prepared.yml\nansible-playbook -f 02.jdk.yml\nansible-playbook -f 03.mysql.yml\nansible-playbook -f "),t("span",{pre:!0,attrs:{class:"token number"}},[this._v("18")]),this._v(".redis.yml\nansible-playbook -f "),t("span",{pre:!0,attrs:{class:"token number"}},[this._v("25")]),this._v(".zookeeper.yml\n")])])])},function(){var t=this._self._c;return t("h5",{attrs:{id:"安装基础服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装基础服务"}},[this._v("#")]),this._v(" 安装基础服务")])},function(){var t=this._self._c;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[this._v("ansible-playbook -f "),t("span",{pre:!0,attrs:{class:"token number"}},[this._v("90")]),this._v(".alinesno-platform-base.yml\n")])])])},function(){var t=this._self._c;return t("h3",{attrs:{id:"自动部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动部署"}},[this._v("#")]),this._v(" 自动部署")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[this._v("#")]),this._v(" 其它")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("略")])])}],!1,null,null,null);s.default=i.exports}}]);