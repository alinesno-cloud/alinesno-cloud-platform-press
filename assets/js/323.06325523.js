(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{547:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("多数据库源，以及分布式事务处理")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._m(3),t._v(" "),a("p",[t._v("添加 yaml 配置")]),t._v(" "),t._m(4),a("p",[t._v("启动示例")]),t._v(" "),a("ul",[a("li",[t._v("查看示例: "),a("a",{attrs:{href:"https://github.com/switchII/springboot-atomikos",target:"_blank",rel:"noopener noreferrer"}},[t._v("springboot-atomikos"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("直接导入运行即可")])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"多数据库源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多数据库源"}},[this._v("#")]),this._v(" 多数据库源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"添加依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加依赖"}},[this._v("#")]),this._v(" 添加依赖")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--分布式事务--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-jta-atomikos"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"配置教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置教程"}},[this._v("#")]),this._v(" 配置教程")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#日志配置，此处使用默认日志")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logging:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  config: classpath:log4j2.yml")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# spring")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("profiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("active")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" test\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.alibaba.druid.pool.xa.DruidXADataSource\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("druid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WebStatFilter配置，说明请参考Druid Wiki，配置_配置WebStatFilter")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web-stat-filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" urlPattern\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" exclusions\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" sessionStatMaxCount\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" sessionStatEnable\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" principalSessionName\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" principalCookieName\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" profileEnable\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# StatViewServlet配置，说明请参考Druid Wiki，配置_StatViewServlet配置")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stat-view-servlet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" urlPattern\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resetEnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loginUsername")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" admin\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loginPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v(" deny\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Spring监控配置，说明请参考Druid Github Wiki，配置_Druid和Spring关联监控配置")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Spring监控AOP切入点，如x.y.z.service.*,配置多个英文逗号分隔")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("aop-patterns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" com.chint.springboot.atomikos."),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("*.service.**")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("systemDB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" systemDB\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost/test_sys\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 123456a\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面为连接池的补充设置，应用到上面所有数据源中")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化大小，最小，最大")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxActive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置获取连接等待超时的时间")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxWait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeBetweenEvictionRunsMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置一个连接在池中最小生存的时间，单位是毫秒")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minEvictableIdleTimeMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validationQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SELECT 1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validationQueryTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testWhileIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnBorrow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnReturn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打开PSCache，并且指定每个连接上PSCache的大小")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("poolPreparedStatements")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxPoolPreparedStatementPerConnectionSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wall\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过connectProperties属性来打开mergeSql功能；慢SQL记录")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("connectionProperties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 合并多个DruidDataSource的监控数据")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("useGlobalDataSourceStat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("businessDB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" businessDB\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost/test_bus\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 123456a\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面为连接池的补充设置，应用到上面所有数据源中")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化大小，最小，最大")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxActive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置获取连接等待超时的时间")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxWait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeBetweenEvictionRunsMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置一个连接在池中最小生存的时间，单位是毫秒")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minEvictableIdleTimeMillis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validationQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SELECT 1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validationQueryTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testWhileIdle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnBorrow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("testOnReturn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打开PSCache，并且指定每个连接上PSCache的大小")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("poolPreparedStatements")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxPoolPreparedStatementPerConnectionSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wall\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过connectProperties属性来打开mergeSql功能；慢SQL记录")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("connectionProperties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 合并多个DruidDataSource的监控数据")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("useGlobalDataSourceStat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#jta相关参数配置")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("log-dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" classpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("logs\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("transaction-manager-id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" txManager\n")])])])}],!1,null,null,null);s.default=e.exports}}]);