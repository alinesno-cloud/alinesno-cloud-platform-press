(window.webpackJsonp=window.webpackJsonp||[]).push([[481],{706:function(s,n,t){"use strict";t.r(n);var a=t(0),e=Object(a.a)({},(function(){var s=this.$createElement;this._self._c;return this._m(0)}),[function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"flink-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flink-安装"}},[s._v("#")]),s._v(" Flink 安装")]),s._v(" "),t("h2",{attrs:{id:"本内容你将获得"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[s._v("#")]),s._v(" 本内容你将获得")]),s._v(" "),t("ul",[t("li",[s._v("如何在 centos7 服务器上安装 flink")])]),s._v(" "),t("h2",{attrs:{id:"flink-安装-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flink-安装-2"}},[s._v("#")]),s._v(" Flink 安装")]),s._v(" "),t("p",[s._v("登录官网https://flink.apache.org/downloads.html")]),s._v(" "),t("p",[s._v("下载 flink-1.14.4-bin-scala_2.12.tgz 并上传 至 Linux 服务器/root/flink 目录。此服务器为 CDH6.2.0 的 dataNode 节点。")]),s._v(" "),t("p",[s._v("1、解压")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf flink-1.14.4-bin-scala_2.12.tgz\n\n创建临时目录文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /root/flink/tmp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /root/flink/flink-1.14.4/tmp/zookeeper\n")])])]),t("p",[s._v("2、修改配置文件 flink-conf.yaml")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink/flink-1.14.4/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" flink-conf.yaml\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为4")]),s._v("\ntaskmanager.numberOfTaskSlots: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为rocksdb")]),s._v("\nstate.backend: rocksdb\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为hdfs:///user/flink/flink-checkpoints")]),s._v("\nstate.checkpoints.dir: hdfs:///user/flink/flink-checkpoints\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为hdfs:///user/flink/savepoints-data")]),s._v("\nstate.savepoints.dir: hdfs:///user/flink/savepoints-data\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为true")]),s._v("\nstate.backend.incremental: "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为/root/flink/tmp")]),s._v("\nio.tmp.dirs: /root/flink/tmp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为parent-first")]),s._v("\nclassloader.resolve-order: parent-first\n")])])]),t("p",[s._v("3、修改配置文件 zoo.cfg")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/flink/flink-1.14.4/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" zoo.cfg\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容为/root/flink/flink-1.14.4/tmp/zookeeper")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dataDir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root/flink/flink-1.14.4/tmp/zookeeper\n")])])]),t("p",[s._v("4、复制 hadoop 集群配置文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/hadoop/conf/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" hdfs-site.xml /root/flink/flink-1.14.4/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" core-site.xml /root/flink/flink-1.14.4/conf\n")])])])])}],!1,null,null,null);n.default=e.exports}}]);