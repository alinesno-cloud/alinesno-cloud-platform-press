(window.webpackJsonp=window.webpackJsonp||[]).push([[421],{648:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),t("p",[s._v("2.Jenkins 构建过程中，使用的内存还有环境要求较高，建议使用 jdk8 运行")]),s._v(" "),t("p",[s._v("3.Jenkins 安装包推荐使用官网的长期支持版本 (LTS)，避免出现插件无法安装的情况")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_17.png")}}),s._v(" "),s._m(6),s._v(" "),s._m(7),s._v(" "),s._m(8),s._v(" "),t("p",[s._v("解压")]),s._v(" "),s._m(9),t("p",[s._v("配置环境变量(可选操作)")]),s._v(" "),s._m(10),s._m(11),s._v(" "),s._m(12),t("p",[s._v("内容如下")]),s._v(" "),s._m(13),t("p",[s._v("启动 jenkins")]),s._v(" "),s._m(14),t("p",[s._v("查看启动日志")]),s._v(" "),s._m(15),t("p",[s._v("在启动日志中包含有管理员密钥，请注意复制下来，如果没有看到日志也没事，可以通过以下方式获取")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_02.png")}}),s._v(" "),s._m(16),s._v(" "),t("p",[s._v("访问 jenkins，http://192.168.1.110:8088 ,显示下图:")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_01.png")}}),s._v(" "),t("p",[s._v("需要获取安装的密钥，在服务器上面获取，复制到输入框中，点击继续")]),s._v(" "),s._m(17),t("p",[s._v("插件安装我们选择社区推荐插件即可，进入到插件安装过程时间比较长，也比较消耗服务器资源，请耐心等待.")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_03.png")}}),s._v(" "),t("p",[s._v("配置超级管理员，超级管理员会看到很多项目，并不合适于大型或者多项目的协助，后期我们为每个账户分配权限即可,超级管理员只用于配置，并不用于工程的发布。")]),s._v(" "),s._m(18),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_04.png")}}),s._v(" "),t("p",[s._v("配置完成，点击登陆即可")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_05.png")}}),s._v(" "),s._m(19),s._v(" "),s._m(20),s._v(" "),s._m(21),s._v(" "),t("p",[s._v("Jenkins 可以配置多个 jdk 供用户在构建过程中提供选择，此处我们统一了 jdk 版本，所以只需要配置一个即可")]),s._v(" "),t("p",[s._v("进入系统设置中")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_06.png")}}),s._v(" "),s._m(22),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_07.png")}}),s._v(" "),s._m(23),s._v(" "),s._m(24),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_08.png")}}),s._v(" "),t("p",[s._v("点击保存环境变量即可")]),s._v(" "),s._m(25),s._v(" "),t("p",[s._v("进入系统配置，配置管理员邮箱，此步很重要，否则可能出现邮件认证出错的情况")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_09.png")}}),s._v(" "),s._m(26),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_10.png")}}),s._v(" "),t("p",[s._v("登陆邮箱查看是否收发成功")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_11.png")}}),s._v(" "),s._m(27),s._v(" "),s._m(28),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_12.png")}}),s._v(" "),t("p",[s._v("创建 maven 工程，构建完成邮箱提醒,整体配置界面如图:")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_13.png")}}),s._v(" "),t("p",[s._v("构建成功或失败，查收邮件:")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/jenkins_14.png")}}),s._v(" "),s._m(29),s._v(" "),s._m(30),t("p",[s._v("保存后退出")])])}),[function(){var s=this._self._c;return s("h1",{attrs:{id:"jenkins-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-安装"}},[this._v("#")]),this._v(" Jenkins 安装")])},function(){var s=this._self._c;return s("h2",{attrs:{id:"本内容你将获得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[this._v("#")]),this._v(" 本内容你将获得")])},function(){var s=this._self._c;return s("ul",[s("li",[this._v("Jenkins 安装及插件配置")])])},function(){var s=this._self._c;return s("h2",{attrs:{id:"jenkins-安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-安装-2"}},[this._v("#")]),this._v(" Jenkins 安装")])},function(){var s=this._self._c;return s("h3",{attrs:{id:"说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[this._v("#")]),this._v(" 说明")])},function(){var s=this._self._c;return s("p",[this._v("1.Jenkins 本身是没有数据库的,以"),s("code",[this._v("JENKINS_HOME")]),this._v("为环境变量,构建的包都会在这个目录下面，所以可能会变得非常大(几十上百 G 都有可能)")])},function(){var s=this._self._c;return s("h3",{attrs:{id:"全局安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[this._v("#")]),this._v(" 全局安装")])},function(){var s=this._self._c;return s("p",[this._v("上传 Jenkins 至 Linux 服务器"),s("code",[this._v("/home/alinesno/jenkins")]),this._v("目录")])},function(){var s=this._self._c;return s("blockquote",[s("p",[this._v("此处用户可以使用 xftp 或者 xshell 等工具，书要简言")])])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 创建目录")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("mkdir")]),this._v(" -p ~/jenkins/JENKINS_HOME\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" ~/jenkins\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("mv")]),this._v(" jenkins.war jenkins.war\n")])])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bash_profile\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加以下内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jenkins env")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=~")]),s._v("/jenkins/JENKINS_HOME\n")])])])},function(){var s=this._self._c;return s("p",[this._v("启动命令\n创建"),s("code",[this._v("jenkins_start.sh")]),this._v("启动脚本")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" ~/jenkins/jenkins-start.sh\n")])])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jenkins env")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=~")]),s._v("/jenkins/JENKINS_HOME\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LOGFILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jenkins.log\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" java -Dhudson.util.ProcessTree.disable"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true -jar ~/jenkins/jenkins.war --httpPort"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8088")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LOGFILE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" ~/jenkins\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 添加可执行权限")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("chmod")]),this._v(" +x jenkins-start.sh\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 启动")]),this._v("\n~/jenkins/jenkins-start.sh\n")])])])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("tail")]),this._v(" -f ~/jenkins.log\n")])])])},function(){var s=this._self._c;return s("h3",{attrs:{id:"登陆配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登陆配置"}},[this._v("#")]),this._v(" 登陆配置")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cat")]),this._v(" /home/alinesno/jenkins/JENKINS_HOME/secrets/initialAdminPassword\n")])])])},function(){var s=this._self._c;return s("blockquote",[s("p",[this._v("这里设置超级管理员密码为:1234qwer")])])},function(){var s=this._self._c;return s("h3",{attrs:{id:"jenkins-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-配置"}},[this._v("#")]),this._v(" Jenkins 配置")])},function(){var s=this._self._c;return s("blockquote",[s("p",[this._v("Jenkins 是一个构建工具，需要引用的环境的工具，如 maven,jdk,node 等")])])},function(){var s=this._self._c;return s("h4",{attrs:{id:"配置开发工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置开发工具"}},[this._v("#")]),this._v(" 配置开发工具")])},function(){var s=this._self._c;return s("p",[this._v("配置 jdk 路径,"),s("em",[this._v("一定不要勾选自动安装")])])},function(){var s=this._self._c;return s("p",[this._v("配置 maven 路径,"),s("em",[this._v("一定不要勾选自动安装")])])},function(){var s=this._self._c;return s("p",[s("code",[this._v("服务器配置Maven请查阅之前文档")])])},function(){var s=this._self._c;return s("h4",{attrs:{id:"配置预警邮箱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置预警邮箱"}},[this._v("#")]),this._v(" 配置预警邮箱")])},function(){var s=this._self._c;return s("p",[this._v("进入系统配置,点击邮箱配置,点击"),s("code",[this._v("高级")]),this._v("，如下图:")])},function(){var s=this._self._c;return s("h3",{attrs:{id:"构建-helloworld-工程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建-helloworld-工程"}},[this._v("#")]),this._v(" 构建 HelloWorld 工程")])},function(){var s=this._self._c;return s("p",[this._v("安装 maven 插件"),s("code",[this._v("Maven Integration")]),this._v(",点击直接安装即可")])},function(){var s=this._self._c;return s("h2",{attrs:{id:"添加-jenkins-开机自启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加-jenkins-开机自启动"}},[this._v("#")]),this._v(" 添加 jenkins 开机自启动")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" /etc/rc.d\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" rc.local\n jenkins开机自启\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sh")]),this._v(" /root/jenkins/jenkins-start.sh\n")])])])}],!1,null,null,null);t.default=e.exports}}]);