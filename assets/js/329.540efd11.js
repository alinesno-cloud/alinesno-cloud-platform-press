(window.webpackJsonp=window.webpackJsonp||[]).push([[329],{546:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),e("p",[t._v("2.Jenkins 构建过程中，使用的内存还有环境要求较高，建议使用 jdk8 运行")]),t._v(" "),e("p",[t._v("3.Jenkins 安装包推荐使用官网的长期支持版本 (LTS)，避免出现插件无法安装的情况")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_17.png")}}),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("解压")]),t._v(" "),t._m(9),e("p",[t._v("配置环境变量(可选操作)")]),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),e("p",[t._v("内容如下")]),t._v(" "),t._m(13),e("p",[t._v("启动 jenkins")]),t._v(" "),t._m(14),e("p",[t._v("查看启动日志")]),t._v(" "),t._m(15),e("p",[t._v("在启动日志中包含有管理员密钥，请注意复制下来，如果没有看到日志也没事，可以通过以下方式获取")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_02.png")}}),t._v(" "),t._m(16),t._v(" "),e("p",[t._v("访问 jenkins，http://192.168.1.110:8088 ,显示下图:")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_01.png")}}),t._v(" "),e("p",[t._v("需要获取安装的密钥，在服务器上面获取，复制到输入框中，点击继续")]),t._v(" "),t._m(17),e("p",[t._v("插件安装我们选择社区推荐插件即可，进入到插件安装过程时间比较长，也比较消耗服务器资源，请耐心等待.")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_03.png")}}),t._v(" "),e("p",[t._v("配置超级管理员，超级管理员会看到很多项目，并不合适于大型或者多项目的协助，后期我们为每个账户分配权限即可,超级管理员只用于配置，并不用于工程的发布。")]),t._v(" "),t._m(18),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_04.png")}}),t._v(" "),e("p",[t._v("配置完成，点击登陆即可")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_05.png")}}),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),e("p",[t._v("Jenkins 可以配置多个 jdk 供用户在构建过程中提供选择，此处我们统一了 jdk 版本，所以只需要配置一个即可")]),t._v(" "),e("p",[t._v("进入系统设置中")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_06.png")}}),t._v(" "),t._m(22),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_07.png")}}),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_08.png")}}),t._v(" "),e("p",[t._v("点击保存环境变量即可")]),t._v(" "),t._m(25),t._v(" "),e("p",[t._v("进入系统配置，配置管理员邮箱，此步很重要，否则可能出现邮件认证出错的情况")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_09.png")}}),t._v(" "),t._m(26),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_10.png")}}),t._v(" "),e("p",[t._v("登陆邮箱查看是否收发成功")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_11.png")}}),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_12.png")}}),t._v(" "),e("p",[t._v("创建 maven 工程，构建完成邮箱提醒,整体配置界面如图:")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_13.png")}}),t._v(" "),e("p",[t._v("构建成功或失败，查收邮件:")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/operation/jenkins_14.png")}}),t._v(" "),t._m(29),t._v(" "),t._m(30),e("p",[t._v("保存后退出")])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"jenkins-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-安装"}},[this._v("#")]),this._v(" Jenkins 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"本内容你将获得"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本内容你将获得"}},[this._v("#")]),this._v(" 本内容你将获得")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Jenkins 安装及插件配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"jenkins-安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-安装-2"}},[this._v("#")]),this._v(" Jenkins 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[this._v("#")]),this._v(" 说明")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1.Jenkins 本身是没有数据库的,以"),s("code",[this._v("JENKINS_HOME")]),this._v("为环境变量,构建的包都会在这个目录下面，所以可能会变得非常大(几十上百 G 都有可能)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"全局安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[this._v("#")]),this._v(" 全局安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上传 Jenkins 至 Linux 服务器"),s("code",[this._v("/home/alinesno/jenkins")]),this._v("目录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("此处用户可以使用 xftp 或者 xshell 等工具，书要简言")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建目录")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p ~/jenkins/JENKINS_HOME\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/jenkins\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" jenkins.war jenkins.war\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.bash_profile\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加以下内容")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jenkins env")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JENKINS_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=~")]),t._v("/jenkins/JENKINS_HOME\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("启动命令\n创建"),s("code",[this._v("jenkins_start.sh")]),this._v("启动脚本")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" ~/jenkins/jenkins-start.sh\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jenkins env")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JENKINS_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=~")]),t._v("/jenkins/JENKINS_HOME\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LOGFILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jenkins.log\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" java -Dhudson.util.ProcessTree.disable"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true -jar ~/jenkins/jenkins.war --httpPort"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8088")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LOGFILE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/jenkins\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加可执行权限")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x jenkins-start.sh\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动")]),t._v("\n~/jenkins/jenkins-start.sh\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("tail")]),this._v(" -f ~/jenkins.log\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"登陆配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登陆配置"}},[this._v("#")]),this._v(" 登陆配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cat")]),this._v(" /home/alinesno/jenkins/JENKINS_HOME/secrets/initialAdminPassword\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("这里设置超级管理员密码为:1234qwer")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"jenkins-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-配置"}},[this._v("#")]),this._v(" Jenkins 配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Jenkins 是一个构建工具，需要引用的环境的工具，如 maven,jdk,node 等")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"配置开发工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置开发工具"}},[this._v("#")]),this._v(" 配置开发工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("配置 jdk 路径,"),s("em",[this._v("一定不要勾选自动安装")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("配置 maven 路径,"),s("em",[this._v("一定不要勾选自动安装")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("服务器配置Maven请查阅之前文档")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"配置预警邮箱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置预警邮箱"}},[this._v("#")]),this._v(" 配置预警邮箱")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("进入系统配置,点击邮箱配置,点击"),s("code",[this._v("高级")]),this._v("，如下图:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"构建-helloworld-工程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建-helloworld-工程"}},[this._v("#")]),this._v(" 构建 HelloWorld 工程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("安装 maven 插件"),s("code",[this._v("Maven Integration")]),this._v(",点击直接安装即可")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"添加-jenkins-开机自启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加-jenkins-开机自启动"}},[this._v("#")]),this._v(" 添加 jenkins 开机自启动")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" /etc/rc.d\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("vim")]),this._v(" rc.local\n jenkins开机自启\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("sh")]),this._v(" /root/jenkins/jenkins-start.sh\n")])])])}],!1,null,null,null);s.default=a.exports}}]);