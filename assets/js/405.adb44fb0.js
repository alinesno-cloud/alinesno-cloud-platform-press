(window.webpackJsonp=window.webpackJsonp||[]).push([[405],{632:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),t("p",[s._v("解压安装包")]),s._v(" "),s._m(5),t("p",[s._v("启动 kafka 服务")]),s._v(" "),s._m(6),s._v(" "),s._m(7),s._m(8),s._v(" "),s._m(9),s._v(" "),s._m(10),s._m(11),s._v(" "),s._m(12),s._m(13),s._v(" "),s._m(14),t("p",[s._v("发送一条消息")]),s._v(" "),s._m(15),s._m(16),s._v(" "),t("img",{attrs:{src:s.$withBase("/operation/kafka_01.png")}}),s._v(" "),s._m(17),s._v(" "),s._m(18)])}),[function(){var s=this._self._c;return s("h1",{attrs:{id:"kafka-单点教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kafka-单点教程"}},[this._v("#")]),this._v(" Kafka 单点教程")])},function(){var s=this._self._c;return s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[this._v("#")]),this._v(" 安装")])},function(){var s=this._self._c;return s("p",[this._v("上传软件至 Linux 服务器"),s("code",[this._v("/home/alinesno/soft/")]),this._v("目录")])},function(){var s=this._self._c;return s("blockquote",[s("p",[this._v("此处用户可以使用 xftp 或者 xshell 等工具，书要简言")])])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("scp")]),this._v(" -r kafka_2.11-2.0.1.tgz alinesno@192.168.1.110:~/soft/\n")])])])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("mkdir")]),this._v(" -p ~/kafka\n"),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("tar")]),this._v(" -xzvf ~/soft/kafka_2.11-2.0.1.tgz -C ~/kafka\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" ~/kafka/kafka_2.11-2.0.1/\n")])])])},function(){var s=this._self._c;return s("blockquote",[s("p",[this._v("kafka 注册中心需要 zk，但是考虑到单点的情况，我们使用 kafka 内置的 zk 服务即可,在集群的时候，我们再配置 zk 集群,后面如果需要使用到 zk 的地方，我们也可以暂时连接此 zk")])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" 启动zk服务,并查看启动日志\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" bin/zookeeper-server-start.sh config/zookeeper.properties "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" zookeeper.nohup.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f zookeeper.nohup.out\n 启动kafka服务,并查看启动日志\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" bin/kafka-server-start.sh config/server.properties "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" producer.nohup.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f producer.nohup.out\n")])])])},function(){var s=this._self._c;return s("h2",{attrs:{id:"消息收发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#消息收发"}},[this._v("#")]),this._v(" 消息收发")])},function(){var s=this._self._c;return s("p",[this._v("创建一个"),s("code",[this._v("test")]),this._v("主题")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v(" 创建主题\nbin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor "),s("span",{pre:!0,attrs:{class:"token number"}},[this._v("1")]),this._v(" --partitions "),s("span",{pre:!0,attrs:{class:"token number"}},[this._v("1")]),this._v(" --topic "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("test")]),this._v("\n 查看主题\nbin/kafka-topics.sh --list --zookeeper localhost:2181\n")])])])},function(){var s=this._self._c;return s("p",[this._v("启动消息接收服务,监听"),s("code",[this._v("test")]),this._v("主题,消息会不断的监听，所以建议起另一个窗口用于专门接收消息，开始启动的时候是没有消息的，保留着就可以")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("test")]),this._v(" --from-beginning\n")])])])},function(){var s=this._self._c;return s("p",[this._v("启动消息发送服务,发送给"),s("code",[this._v("test")]),this._v("主题,在启动发送服务之后，你再输入字符，然后再看消息服务窗口是否能接收得到")])},function(){var s=this._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("bin/kafka-console-producer.sh --broker-list localhost:9092 --topic "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("test")]),this._v("\n")])])])},function(){var s=this._self._c;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("this is a test from message\n")])])])},function(){var s=this._self._c;return s("p",[this._v("效果如下图,用了"),s("code",[this._v("tmux")]),this._v("做了窗口分隔处理:")])},function(){var s=this._self._c;return s("h1",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[this._v("#")]),this._v(" 参考资料")])},function(){var s=this._self._c;return s("ul",[s("li",[this._v("略\n")])])}],!1,null,null,null);t.default=r.exports}}]);